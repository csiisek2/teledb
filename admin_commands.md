# 🔑 TeleDB 슈퍼어드민 명령어 설명서

**⚠️ 극비 문서 - @dis7414 전용**

## 🚀 슈퍼어드민 모드 (극도 보안)

### 진입 조건
```
/superadmin
```
- **이중 보안**: Username @dis7414 + 관리자 ID 모두 필요
- **완전 비밀**: 다른 사용자는 존재 자체를 모름  
- **즉시 삭제**: 진입 명령어 자동 삭제
- 타인 입력시 → "알 수 없는 명령어" 메시지만 표시

---

## ⚡ 고속 데이터 관리

### 📝 데이터 추가 (초간단)
```
전화번호 내용
```

**예시:**
```
01012345678 조상협
01098765432 김철수 | 삼성전자 | 개발팀
01055556666 박영희 VIP고객
```

**특징:**
- 명령어 없이 바로 입력
- 즉시 DB 저장
- 중복 허용 (같은 번호에 여러 내용)

### 🗑️ 데이터 삭제 (초간단 + 자동삭제)
```
전화번호 del
전화번호 삭제
```

**예시:**
```
01012345678 del      ← 더 간단!
01098765432 삭제
```

**보안 특징:**
- **입력 즉시 삭제**: 원본 메시지 바로 삭제
- **결과 5초 삭제**: 완료 메시지도 5초 후 자동 삭제  
- **흔적 없음**: 채팅에 아무것도 남지 않음
- 복구 불가능하므로 주의

---

## 🔄 모드 관리

### 관리자 모드 종료
```
/exit_admin
```
- 관리자 모드 비활성화
- 일반 사용자와 동일한 기능으로 복귀

---

## 📋 사용 시나리오

### 시나리오 1: 보안 데이터 추가 (흔적없음)
```
/superadmin                    ← 진입 (명령어 즉시 삭제)
01012345678 조상협             ← 입력하면 즉시 삭제, 5초 후 결과도 삭제
01098765432 김철수 삼성전자    ← 입력하면 즉시 삭제, 5초 후 결과도 삭제
01055556666 박영희 VIP고객     ← 입력하면 즉시 삭제, 5초 후 결과도 삭제
/exit_admin                    ← 모드 종료
```

### 시나리오 2: 완전 비밀 삭제 (흔적없음)
```
/superadmin                    ← 진입 (명령어 즉시 삭제)  
01099999999 del               ← 입력 즉시 삭제, 5초 후 결과도 삭제
01088888888 del               ← 입력 즉시 삭제, 5초 후 결과도 삭제
/exit_admin                    ← 모드 종료
```

### 시나리오 3: 혼합 보안 작업
```
/superadmin                    ← 진입 (자동삭제)
01012345678 조상협 신규고객    ← 추가 (자동삭제)
01098765432 del               ← 삭제 (자동삭제)  
01055556666 박영희 수정정보    ← 추가 (자동삭제)
/exit_admin                    ← 모드 종료
```

**🔒 모든 과정에서 메시지는 자동으로 삭제되어 흔적이 남지 않습니다!**

---

## 🛡️ 보안 특징

### 완전한 비밀성
- `/superadmin` 명령어는 일반 사용자에게 노출되지 않음
- 다른 사용자가 입력해도 "알 수 없는 명령어" 메시지만 표시
- 도움말이나 명령어 목록에도 표시되지 않음

### 권한 확인
- 관리자 ID(.env의 ADMIN_USER_ID)만 사용 가능
- 관리자 모드 활성화 시에만 간단 명령어 작동
- 일반 사용자에게는 전혀 영향 없음

---

## 🎯 기존 관리자 명령어와 비교

| 기능 | 기존 명령어 | 관리자 모드 | 속도 |
|------|-------------|-------------|------|
| 데이터 추가 | `/add 01012345678 조상협` | `01012345678 조상협` | ⚡ 2배 빠름 |
| 데이터 삭제 | `/delete 01012345678` | `01012345678 삭제` | ⚡ 2배 빠름 |
| 입력 편의성 | 명령어 필요 | 명령어 불필요 | ⚡ 매우 편리 |

---

## ⚠️ 주의사항

### 삭제 관련
- 삭제는 **즉시 실행**되며 확인 단계 없음
- **모든 정보** 삭제됨 (중복 데이터 포함)
- **복구 불가능**하므로 신중히 사용

### 데이터 형식
- 전화번호와 내용 사이는 **한 칸 띄어쓰기** 필수
- 전화번호는 하이픈 있어도 자동 처리
- 내용에는 특수문자, 한글, 영문 모두 사용 가능

---

## 🔍 트러블슈팅

### 문제: 관리자 모드가 작동하지 않음
**해결:** `.env` 파일에서 ADMIN_USER_ID 확인

### 문제: 간단 명령어가 인식되지 않음  
**해결:** `/superadmin`으로 관리자 모드 먼저 활성화

### 문제: 삭제가 되지 않음
**해결:** "삭제" 단어를 정확히 입력 (띄어쓰기 주의)

---

## 🔐 봇 보안 설정 (.env 파일)

### 필수 설정
`.env` 파일에서 다음을 반드시 설정하세요:

```bash
# 기본 설정
BOT_TOKEN=8225656341:AAHlcI8g7wGfNz2qwnDP4UUFqPllggJ-ewc
ADMIN_USER_ID=당신의_텔레그램_사용자ID

# 보안 설정 (3가지 방법 중 선택)
```

### 보안 방법 1: 패스워드 인증 (추천)
```bash
ACCESS_PASSWORD=mysecretpassword123
SECURITY_ENABLED=true
RATE_LIMIT_ENABLED=true
```
**사용법**: `/auth mysecretpassword123` 입력 후 봇 사용

### 보안 방법 2: 특정 사용자만 허용
```bash
ALLOWED_USERS=123456789,987654321,555666777
SECURITY_ENABLED=true
RATE_LIMIT_ENABLED=true
```
**사용법**: 지정된 사용자만 자동으로 봇 사용 가능

### 보안 방법 3: 최고 보안 (패스워드 + 사용자 제한)
```bash
ACCESS_PASSWORD=topsecret456
ALLOWED_USERS=123456789,987654321
SECURITY_ENABLED=true
RATE_LIMIT_ENABLED=true
```
**사용법**: 허용된 사용자가 패스워드까지 입력해야 함

### 🔍 사용자 ID 확인 방법
1. 텔레그램에서 `@userinfobot` 검색
2. `/start` 명령어 전송
3. 나오는 숫자가 당신의 사용자 ID

### 🚀 봇 시작 방법
```bash
cd /Users/seungjae/Desktop/lee/teledb
python3 main.py
```

### 📝 설정 예시 (복사해서 사용)
```bash
BOT_TOKEN=8225656341:AAHlcI8g7wGfNz2qwnDP4UUFqPllggJ-ewc
DATABASE_PATH=./teledb.sqlite
ADMIN_USER_ID=123456789
ACCESS_PASSWORD=teledb2024!@#
SECURITY_ENABLED=true
RATE_LIMIT_ENABLED=true
DEBUG=false
LOG_LEVEL=INFO
```

---

**📞 이 문서는 @dis7414 전용입니다. 외부 유출 금지!**